{"version":3,"file":"index.js","sources":["../../src/structure/panes/userComponent/UserComponentPaneContent.tsx","../../src/structure/panes/userComponent/UserComponentPaneHeader.tsx","../../src/structure/panes/userComponent/UserComponentPane.tsx"],"sourcesContent":["import {Box} from '@sanity/ui'\nimport {type ReactNode} from 'react'\nimport {styled} from 'styled-components'\n\nimport {usePane} from '../../components'\n\ninterface UserComponentPaneContentProps {\n  children: ReactNode\n}\n\nconst Root = styled(Box)`\n  position: relative;\n`\n\nexport function UserComponentPaneContent(props: UserComponentPaneContentProps) {\n  const {children} = props\n  const {collapsed} = usePane()\n\n  return (\n    <Root hidden={collapsed} height=\"fill\" overflow=\"auto\">\n      {children}\n    </Root>\n  )\n}\n","import {ArrowLeftIcon} from '@sanity/icons'\n\nimport {Button} from '../../../ui-components'\nimport {BackLink, PaneHeader, PaneHeaderActions} from '../../components'\nimport {\n  type PaneMenuItem,\n  type PaneMenuItemGroup,\n  type StructureToolPaneActionHandler,\n} from '../../types'\nimport {useStructureTool} from '../../useStructureTool'\n\ninterface UserComponentPaneHeaderProps {\n  actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  index: number\n  menuItems?: PaneMenuItem[]\n  menuItemGroups?: PaneMenuItemGroup[]\n  title: string\n}\n\nexport function UserComponentPaneHeader(props: UserComponentPaneHeaderProps) {\n  const {actionHandlers, index, menuItems, menuItemGroups, title} = props\n  const {features} = useStructureTool()\n\n  if (!menuItems?.length && !title) {\n    return null\n  }\n\n  return (\n    <PaneHeader\n      actions={\n        <PaneHeaderActions\n          menuItems={menuItems}\n          menuItemGroups={menuItemGroups}\n          actionHandlers={actionHandlers}\n        />\n      }\n      backButton={\n        features.backButton &&\n        index > 0 && (\n          <Button\n            as={BackLink}\n            data-as=\"a\"\n            icon={ArrowLeftIcon}\n            mode=\"bleed\"\n            tooltipProps={{content: 'Back'}}\n          />\n        )\n      }\n      title={title}\n    />\n  )\n}\n","import {isValidElement, useState} from 'react'\nimport {isValidElementType} from 'react-is'\nimport {useI18nText} from 'sanity'\n\nimport {Pane} from '../../components'\nimport {type StructureToolPaneActionHandler} from '../../types'\nimport {type BaseStructureToolPaneProps} from '../types'\nimport {UserComponentPaneContent} from './UserComponentPaneContent'\nimport {UserComponentPaneHeader} from './UserComponentPaneHeader'\n\ntype UserComponentPaneProps = BaseStructureToolPaneProps<'component'>\n\n/**\n * @internal\n */\nexport function UserComponentPane(props: UserComponentPaneProps) {\n  const {index, pane, paneKey, ...restProps} = props\n  const {\n    child,\n    component: UserComponent,\n    menuItems,\n    menuItemGroups,\n    type: _unused,\n    ...restPane\n  } = pane\n  const [ref, setRef] = useState<{\n    actionHandlers?: Record<string, StructureToolPaneActionHandler>\n  } | null>(null)\n  const {title = ''} = useI18nText(pane)\n\n  const {key, ...componentProps} = {...restProps, ...restPane}\n\n  return (\n    <Pane id={paneKey} minWidth={320} selected={restProps.isSelected}>\n      <UserComponentPaneHeader\n        actionHandlers={ref?.actionHandlers}\n        index={index}\n        menuItems={menuItems}\n        menuItemGroups={menuItemGroups}\n        title={title}\n      />\n\n      <UserComponentPaneContent>\n        {isValidElementType(UserComponent) && (\n          <UserComponent\n            key={key}\n            {...componentProps}\n            // NOTE: here we're utilizing the function form of refs so setting\n            // the ref causes a re-render for `UserComponentPaneHeader`\n            ref={setRef as any}\n            child={child}\n            paneKey={paneKey}\n          />\n        )}\n        {isValidElement(UserComponent) && UserComponent}\n      </UserComponentPaneContent>\n    </Pane>\n  )\n}\n"],"names":["Root","styled","Box","UserComponentPaneContent","props","$","_c","children","collapsed","usePane","t0","UserComponentPaneHeader","actionHandlers","index","menuItems","menuItemGroups","title","features","useStructureTool","length","PaneHeaderActions","t1","backButton","jsx","Button","BackLink","ArrowLeftIcon","content","t2","PaneHeader","UserComponentPane","pane","paneKey","restProps","UserComponent","child","restPane","component","t3","type","_unused","t4","ref","setRef","useState","useI18nText","undefined","componentProps","key","isValidElementType","isValidElement","t5","jsxs","t6","isSelected","Pane"],"mappings":"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"}